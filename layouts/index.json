{{- $pages := slice }}
{{- range .Site.Pages }}
{{- if or .Site.Params.searchHiddenPages (and (ne .Params.hidden true) (ne .Title "")) }}
{{- $pages = $pages | append (dict "uri" .RelPermalink "title" .Title "tags" .Params.tags "description" .Description "content" (.Plain | htmlUnescape)) }}
{{- end }}
{{- end }}
{{- $pages | jsonify (dict "indent" "  ") }}
